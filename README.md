# 2025_ML_PROJECT  
데이터 전처리 및 증강 과정 정리

## 1. 프로젝트 개요
이 프로젝트의 목표는 손이나 도구의 움직임 궤적(trajectory) 데이터를 분석해  
그 궤적이 **circle**, **diagonal**, **horizontal**, **vertical** 중 어느 형태인지 분류하는 것이다.

각 데이터는 `.txt` 파일로 구성되어 있고, 한 줄에는 여러 개의 값이 포함된다.  
이 중에서 **r로 시작하는 줄만 실제 좌표 데이터**이며,  
**s로 시작하는 줄은 쓰레기 데이터**라서 제외해야 한다.

---

## 2. 데이터 전처리 (Refine 단계)

### 목적
- 모델이 학습할 수 있는 형태로 데이터를 정리한다.
- 실제 좌표(x, y, z) 정보만 남기고 불필요한 정보는 제거한다.

### 과정
1. `raw_data` 폴더에서 모든 `.txt` 파일을 불러온다.
2. `r`로 시작하는 줄만 선택한다.
3. 각 줄에서 **7번째 열(0부터 시작하면 index 6)** 값만 추출한다.
4. 이 값을 `x/y/z` 형태로 변환하여  
   `preprocessed_data/<category>/<file>.txt` 로 저장한다.


---

## 3. 시각화 (Visualization)

### 목적
- 전처리된 x, y, z 좌표가 실제로 어떤 형태를 이루는지 3D 그래프로 확인한다.

### 방법
- `preprocessed_data`에 있는 모든 좌표 파일을 불러와 3D 라인 플롯으로 그린다.
- 이미지 파일(`.png`)로 저장하며 저장 위치와 형식은 다음과 같다
- : visualization_preprocessed_data/category/file.png


### 참고
- 같은 데이터라도 축 스케일과 카메라 시점(view angle)에 따라 모양이 다르게 보일 수 있다.
- 그래프 모양이 달라 보여도 실제 좌표값이 바뀐 것은 아니다.

---

## 4. 데이터 증강 (Augmentation)

### 왜 필요한가?
- 전체 데이터 개수가 적다. (처음에는 약 34개)
- 이번 주에 받은 새로운 데이터는 잡음(노이즈)이 섞여 있다.
- 더 많은 데이터를 만들고, 노이즈가 있어도 정확하게 분류할 수 있는 모델을 만들기 위해 필요하다.

### 증강 전략 요약

증강은 “기존 데이터를 약간씩 변형해 새로운 데이터를 만드는 작업”이다.  
두 종류의 데이터에 대해 다른 전략을 적용했다.

| 종류 | 적용 대상 | 생성 개수 | 주요 변형 |
|------|------------|------------|---------------------------|
| **클린 데이터** | 첫 주에 받은 깔끔한 데이터 | 각 파일당 3개 | 노이즈 추가, 회전, 스케일 변화, 평행이동, 시간왜곡 |
| **노이즈 데이터** | 이번 주에 받은 noisy 데이터 | 각 파일당 5개 | 스무딩, 이상치 제거, 미세노이즈, 회전, 시간왜곡, 이동 |

---

### 증강에 사용된 기법 설명

#### 1) Jitter (가우시안 노이즈)
좌표에 작은 무작위 값을 더해 궤적을 약간 흔들리게 만든다.

#### 2) Rotate (회전)
x축, y축, z축 기준으로 궤적을 회전시킨다.  
사람마다 그리는 각도가 달라도 모델이 같은 클래스라고 인식하도록 한다.

#### 3) Scale (확대/축소)
궤적 전체의 크기를 조금 키우거나 줄인다.

#### 4) Translate (평행 이동)
궤적의 위치를 X/Y/Z 방향으로 조금씩 이동한다.

#### 5) Time Warp (시간 왜곡)
궤적 일부 구간을 늘이거나 줄여서 그리는 속도가 달라진 것처럼 변형한다.

#### 6) Moving Average (스무딩)
연속된 값들의 평균을 내서 노이즈가 심한 궤적을 부드럽게 만든다.

#### 7) IQR 클리핑 (이상치 제거)
너무 크게 튀는 값들을 일정 범위로 잘라내 깨끗한 신호로 만든다.

---

### 증강 결과 저장 구조
증강된 궤적은 다음 폴더에 저장된다
: augmented_data/category/<원본이름>__aug001.txt


---

## 5. 전체 작업 흐름 요약
raw_data<br>
↓ (필요한 좌표만 추출)<br>
preprocessed_data<br>
↓ (3D 궤적 시각화)<br>
visualization_preprocessed_data<br>
↓ (데이터 증강)<br>
augmented_data<br>


---

## 6. 다음 단계 안내 (Sub-quests #2 ~ #3)

### Sub-quest 2: 모델 설계 및 학습
- 전처리 + 증강된 데이터를 사용해  
  궤적을 **circle / diagonal / horizontal / vertical** 중 어느 범주인지 분류하는 모델을 만든다.
- 딥러닝 또는 전통 ML 기법 모두 가능하다.

### Sub-quest 3: 모델 평가 지표 제작
- 모델이 얼마나 잘 작동하는지 확인하기 위해  
  **자체적인 평가 기준(evaluator)** 을 설계해야 한다.
- 단순 정확도 말고, 궤적의 특징을 반영한 새로운 평가 방법을 고려할 수 있다.
